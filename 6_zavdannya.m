figure; hold on;

% Створення сітки для простору входів
[x1, x2] = meshgrid(-1.5:0.1:1.5, -1.5:0.1:1.5);

% Формування сіткових векторів (2 x N)
gridX = [x1(:)'; x2(:)'];

% Оцінка мережі для кожної точки сітки
Y_grid = net(gridX);  % або: Y_grid = sim(net, gridX);
Y_class_grid_1 = round(Y_grid(1,:));
Y_class_grid_2 = round(Y_grid(2,:));

% Кодування класів у скалярні значення: [0;0]=0, [0;1]=1, [1;0]=2, [1;1]=3
c = Y_class_grid_1 * 2 + Y_class_grid_2;
c = reshape(c, size(x1));

% Побудова контурів класифікації
if numel(unique(c)) > 1
    contourf(x1, x2, c, 4, 'LineWidth', 1);  % 4 області
else
    disp('Нейронна мережа класифікує всі точки однаково.');
end

% Нанесення вхідних точок з маркерами відповідно до класів
scatter(X(1, T(1,:)==0 & T(2,:)==0), X(2, T(1,:)==0 & T(2,:)==0), 100, 'ro', 'filled');     % [0;0]
scatter(X(1, T(1,:)==0 & T(2,:)==1), X(2, T(1,:)==0 & T(2,:)==1), 100, 'b+', 'LineWidth', 2); % [0;1]
scatter(X(1, T(1,:)==1 & T(2,:)==0), X(2, T(1,:)==1 & T(2,:)==0), 100, 'g*', 'LineWidth', 2); % [1;0]
scatter(X(1, T(1,:)==1 & T(2,:)==1), X(2, T(1,:)==1 & T(2,:)==1), 100, 'ks', 'filled');       % [1;1]

% Підпис осей, заголовок, колірна шкала
xlabel('Ознака 1');
ylabel('Ознака 2');
title('Розподіл простору входів та області класифікації (Варіант 2)');
colorbar;

% Створення фіктивних об’єктів для легенди
h00 = scatter(NaN, NaN, 100, 'ro', 'filled');
h01 = scatter(NaN, NaN, 100, 'b+', 'LineWidth', 2);
h10 = scatter(NaN, NaN, 100, 'g*', 'LineWidth', 2);
h11 = scatter(NaN, NaN, 100, 'ks', 'filled');

legend([h00, h01, h10, h11], {'[0;0]', '[0;1]', '[1;0]', '[1;1]'}, 'Location', 'best');

hold off;
